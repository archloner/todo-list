(()=>{"use strict";var e=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t={};e(t);var i={};e(i);var s={};function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function o(e){n(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}e(s);let a=0;class l{createdDate;title;description;dueDate;priority;isComplete;isCollapsed;log;notes;checklist;constructor(e,t,i,s){this.id=class{static nextIndex(){return a++}static reset(){a=0}}.nextIndex(),this.title=e,this.description=t,this.dueDate=i,this.priority=s,this.createdDate=new Date,this.isComplete=!1,this.isCollapsed=!0,this.notes=null,this.checklist=[],this.log=[]}isComplete(){return!0===isComplete}markAsComplete(){this.isComplete=!0}markAsNotComplete(){this.isComplete=!1}toggleComplete(){this.isComplete=!this.isComplete}setIsCollapsed(e){this.isCollapsed=e}toggleIsCollapsed(){this.isCollapsed=!this.isCollapsed}getDOMElement(){return(new t.ContentView).getTaskDOMElement(this)}isOverdue(){return function(e,t){n(2,arguments);var i=o(e),s=o(t);return i.getTime()<s.getTime()}(this.dueDate,new Date)&&!this.isComplete}}class c{static LOW="low";static MEDIUM="medium";static HIGH="high";static DEFAULT="default"}new l("Update about page header","Lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,1,20),c.DEFAULT),new l("Fix bug in deployment script","Lorem ipsum dolor sit amet, consectetur adipiscing elit, lorem ipsum dolor sit amet, consectetur adipiscing elit, lorem ipsum dolor sit amet, consectetur adipiscing elit, lorem ipsum dolor sit amet, consectetur adipiscing elit, lorem ipsum dolor sit amet, consectetur adipiscing elit, lorem ipsum dolor sit amet, consectetur adipiscing elit, lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,0,19),c.MEDIUM),new l("Update contact page header","Lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,1,20),c.DEFAULT),new l("About page wording","Lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,0,22),c.HIGH),new l("New landing page layout","Lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,0,17),c.MEDIUM),new l("Update global iconset","Lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,1,27),c.LOW),new l("New case study thumbnails","Lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,0,28),c.DEFAULT),new l("Buy Pizza","Lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,0,30),c.HIGH),new l("Tomatoes","Lorem ipsum dolor sit amet, consectetur adipiscing elit, lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,0,30),c.DEFAULT),new l("50 BrzuszkÃ³w","Lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,0,30),c.DEFAULT),new l("50 Pompek","Lorem ipsum dolor sit amet, consectetur adipiscing elit, lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,0,30),c.DEFAULT),new l("Lord of The Rings: The Fellowship of the Ring","Lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,0,30),c.MEDIUM),new l("Do Androids Dream of Electric Sheep","Lorem ipsum dolor sit amet, consectetur adipiscing elit, lorem ipsum dolor sit amet, consectetur adipiscing elit",new Date(2022,0,30),c.LOW);class r{model;controller;constructor(e){e.model&&(this.model=e.model)}setController(e){this.controller=e}render(){const e=document.querySelector(".menu-left"),t=document.querySelector(".menu");e.replaceChild(this.getMenuDOM(),t)}getMenuDOM(){const e=["fas","fa-tasks"],t=document.createElement("div");t.classList.add("menu");const i=document.createElement("ul");i.classList.add("flex-grow","menu-items"),this.model.getProjects();for(let t of this.model.getProjects())0===t.id?i.appendChild(this.getOverviewMenuItem(t)):i.appendChild(this.getMenuItem(t,e));const s=document.createElement("div");s.classList.add("line"),i.appendChild(s);const n=this.getMenuItem({title:"Done",tasks:[]},["far","fa-calendar-check"]);i.appendChild(n),t.appendChild(i);const o=document.createElement("ul");o.classList.add("push-bottom");const a=document.createElement("a");a.href="#",a.classList.add("menu-item");const l=document.createElement("li");l.innerHTML="<i class='fa fa-cog'></i> Logs",a.appendChild(l),o.appendChild(a);const c=document.createElement("a");c.href="#",c.classList.add("menu-item");const r=document.createElement("li");return r.innerHTML="<i class='fa fa-sign-out-alt'></i> Log out",c.appendChild(r),o.appendChild(c),t.appendChild(o),t}calculateProjectTasksAmount(e){return e.tasks.reduce(((e,t,i)=>e+(t.isComplete?0:1)),0)}getOverviewMenuItem(e){const t=document.createElement("a");t.href="#",t.setAttribute("data-menu-index",e.id),t.classList.add("menu-item"),this.model.getCurrentProjectId()===e.id&&t.classList.add("active");const i=document.createElement("li"),s=document.createElement("div");s.classList.toggle("flex-row");const n=document.createElement("i");n.classList.add("fa","fa-home");const o=document.createElement("div");o.classList.toggle("menu-item-text");const a=this.model.getProjectsCount();return o.innerHTML=`${e.title} <p class='tasks-amount'>${a} \n    ${1===a?"project":"projects"}</p>`,s.appendChild(n),s.appendChild(o),i.appendChild(s),t.appendChild(i),t.addEventListener("click",(t=>{t.preventDefault(),this.controller.changeCurrentProject(e.id)})),t}getMenuItem(e,t){const i=document.createElement("a");i.href="#",i.setAttribute("data-menu-index",e.id),i.classList.add("menu-item"),this.model.getCurrentProjectId()===e.id&&i.classList.add("active");const s=document.createElement("li"),n=document.createElement("div");n.classList.toggle("flex-row");const o=document.createElement("i");o.classList.add(...t);const a=document.createElement("div");if(a.classList.toggle("menu-item-text"),e.tasks){const t=this.calculateProjectTasksAmount(e);a.innerHTML=`${e.title} <p class='tasks-amount'>${t} ${1===t?"Task":"Tasks"}</p>`}return n.appendChild(o),n.appendChild(a),s.appendChild(n),i.appendChild(s),i.addEventListener("click",(t=>{t.preventDefault(),this.controller.changeCurrentProject(e.id)})),i}}class d{static DARK_MODE_DEFAULT=!1;static LOAD_WITH_SAMPLE_DATA=!0;static DEFAULT_PROJECT_ID=0;static LOCAL_STORAGE_KEY="todo-data";static NOTIFICATION_HIDE_ANIMATION_DURATION=500;static NOTIFICATION_SHOW_TIME=4e3}class m{title;description;level;constructor(e,t,i){this.title=e,this.description=t,this.level=i}}class u{wrapper;constructor(){this.wrapper=document.querySelector(".notification-wrapper"),this.init()}init(){const e=new m("Welcome","Welcome to our app, we hope you will find it useful!",c.MEDIUM);setTimeout((()=>{this.showNotification(e)}),1e3)}addCloseEventListeners(){this.wrapper.querySelectorAll(".notification-icon .close").forEach((e=>{e.addEventListener("click",(e=>{this.animateNotificationClosing(e.target.parentElement.parentElement)}))}))}animateNotificationClosing(e){e.classList.add("notification-animate-hide"),setTimeout((()=>{e.classList.remove("notification-animate-hide"),e.classList.add("hide"),this.wrapper.removeChild(e)}),d.NOTIFICATION_HIDE_ANIMATION_DURATION)}showNotification(e){const t=this.createNotificationElement(e);this.wrapper.appendChild(t),this.addCloseEventListeners(),setTimeout((()=>{this.animateNotificationClosing(t)}),d.NOTIFICATION_SHOW_TIME)}createNotificationElement(e){const t=document.createElement("div");let i;switch(t.classList.add("notification"),e.level){case c.HIGH:i="bg-danger";break;case c.MEDIUM:i="bg-medium";break;case c.LOW:i="bg-low";break;case c.DEFAULT:i="bg-default"}t.classList.add(i);const s=document.createElement("div");s.classList.add("notification-icon");const n=document.createElement("i");n.classList.add("fa-solid","fa-bell"),s.appendChild(n),t.appendChild(s);const o=document.createElement("div");o.classList.add("notification-body");const a=document.createElement("div");a.classList.add("notification-title"),a.textContent=e.title,o.appendChild(a);const l=document.createElement("div");l.classList.add("notification-text"),l.textContent=e.description,o.appendChild(l),t.appendChild(o);const r=document.createElement("div");r.classList.add("notification-icon");const d=document.createElement("i");return d.classList.add("fa-solid","fa-xmark","close"),r.appendChild(d),t.appendChild(r),t}}(new class{model;controller;view;menuView;notificationController;constructor(){this.model=new i.Model,this.menuView=new r({model:this.model}),this.view=new t.ContentView({menuView:this.menuView}),this.view.setModel(this.model),this.controller=new s.DisplayController({view:this.view,model:this.model}),this.view.setController(this.controller),this.menuView.setController(this.controller),this.notificationController=new u}init(){this.controller.init()}}).init()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxXQUNBOEUsS0FDQUMsU0FDQUMsdUJBRUFyRyxjQUNFQyxLQUFLbUIsTUFBUSxJQUFJLEVBQUFrRixNQUVqQnJHLEtBQUttRyxTQUFXLElBQUlqRixFQUFTLENBQUVDLE1BQU9uQixLQUFLbUIsUUFFM0NuQixLQUFLa0csS0FBTyxJQUFJLEVBQUF4RixZQUFZLENBQUV5RixTQUFVbkcsS0FBS21HLFdBQzdDbkcsS0FBS2tHLEtBQUtJLFNBQVN0RyxLQUFLbUIsT0FFeEJuQixLQUFLb0IsV0FBYSxJQUFJLEVBQUFtRixrQkFBa0IsQ0FDdENMLEtBQU1sRyxLQUFLa0csS0FDWC9FLE1BQU9uQixLQUFLbUIsUUFHZG5CLEtBQUtrRyxLQUFLNUUsY0FBY3RCLEtBQUtvQixZQUU3QnBCLEtBQUttRyxTQUFTN0UsY0FBY3RCLEtBQUtvQixZQUVqQ3BCLEtBQUtvRyx1QkFBeUIsSUFBSTNCLEVBR3BDRSxPQUNFM0UsS0FBS29CLFdBQVd1RCxVRC9CaEJBLFEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3RvRGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdXRpbC9JbmRleEdlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZW50aXR5L1Rhc2suanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9pc0JlZm9yZS9pbmRleC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZW50aXR5L1ByaW9yaXR5VHlwZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvbW9kZWwvU2FtcGxlRGF0YS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdmlldy9NZW51Vmlldy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY29uZmlnL0FwcENvbmZpZy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZW50aXR5L05vdGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY29udHJvbGxlci9Ob3RpZmljYXRpb25zQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL0FwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWlyZWRBcmdzKHJlcXVpcmVkLCBhcmdzKSB7XG4gIGlmIChhcmdzLmxlbmd0aCA8IHJlcXVpcmVkKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihyZXF1aXJlZCArICcgYXJndW1lbnQnICsgKHJlcXVpcmVkID4gMSA/ICdzJyA6ICcnKSArICcgcmVxdWlyZWQsIGJ1dCBvbmx5ICcgKyBhcmdzLmxlbmd0aCArICcgcHJlc2VudCcpO1xuICB9XG59IiwiaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgdG9EYXRlXG4gKiBAY2F0ZWdvcnkgQ29tbW9uIEhlbHBlcnNcbiAqIEBzdW1tYXJ5IENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBhcmd1bWVudCB0byBhbiBpbnN0YW5jZSBvZiBEYXRlLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBhbiBpbnN0YW5jZSBvZiBEYXRlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBpdHMgY2xvbmUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpdCBpcyB0cmVhdGVkIGFzIGEgdGltZXN0YW1wLlxuICpcbiAqIElmIHRoZSBhcmd1bWVudCBpcyBub25lIG9mIHRoZSBhYm92ZSwgdGhlIGZ1bmN0aW9uIHJldHVybnMgSW52YWxpZCBEYXRlLlxuICpcbiAqICoqTm90ZSoqOiAqYWxsKiBEYXRlIGFyZ3VtZW50cyBwYXNzZWQgdG8gYW55ICpkYXRlLWZucyogZnVuY3Rpb24gaXMgcHJvY2Vzc2VkIGJ5IGB0b0RhdGVgLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGFyZ3VtZW50IC0gdGhlIHZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgcGFyc2VkIGRhdGUgaW4gdGhlIGxvY2FsIHRpbWUgem9uZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENsb25lIHRoZSBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKG5ldyBEYXRlKDIwMTQsIDEsIDExLCAxMSwgMzAsIDMwKSlcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENvbnZlcnQgdGhlIHRpbWVzdGFtcCB0byBkYXRlOlxuICogY29uc3QgcmVzdWx0ID0gdG9EYXRlKDEzOTIwOTg0MzAwMDApXG4gKiAvLz0+IFR1ZSBGZWIgMTEgMjAxNCAxMTozMDozMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvRGF0ZShhcmd1bWVudCkge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgdmFyIGFyZ1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCk7IC8vIENsb25lIHRoZSBkYXRlXG5cbiAgaWYgKGFyZ3VtZW50IGluc3RhbmNlb2YgRGF0ZSB8fCB0eXBlb2YgYXJndW1lbnQgPT09ICdvYmplY3QnICYmIGFyZ1N0ciA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgLy8gUHJldmVudCB0aGUgZGF0ZSB0byBsb3NlIHRoZSBtaWxsaXNlY29uZHMgd2hlbiBwYXNzZWQgdG8gbmV3IERhdGUoKSBpbiBJRTEwXG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50LmdldFRpbWUoKSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGFyZ3VtZW50ID09PSAnbnVtYmVyJyB8fCBhcmdTdHIgPT09ICdbb2JqZWN0IE51bWJlcl0nKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGFyZ3VtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoKHR5cGVvZiBhcmd1bWVudCA9PT0gJ3N0cmluZycgfHwgYXJnU3RyID09PSAnW29iamVjdCBTdHJpbmddJykgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFwiU3RhcnRpbmcgd2l0aCB2Mi4wLjAtYmV0YS4xIGRhdGUtZm5zIGRvZXNuJ3QgYWNjZXB0IHN0cmluZ3MgYXMgZGF0ZSBhcmd1bWVudHMuIFBsZWFzZSB1c2UgYHBhcnNlSVNPYCB0byBwYXJzZSBzdHJpbmdzLiBTZWU6IGh0dHBzOi8vZ2l0LmlvL2ZqdWxlXCIpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXG4gICAgICBjb25zb2xlLndhcm4obmV3IEVycm9yKCkuc3RhY2spO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRGF0ZShOYU4pO1xuICB9XG59IiwibGV0IHN0YXJ0aW5nSW5kZXggPSAwO1xuXG5leHBvcnQgY2xhc3MgSW5kZXhHZW5lcmF0b3Ige1xuXG4gIHN0YXRpYyBuZXh0SW5kZXgoKSB7XG4gICAgcmV0dXJuIHN0YXJ0aW5nSW5kZXgrKztcbiAgfVxuXG4gIHN0YXRpYyByZXNldCgpIHtcbiAgICBzdGFydGluZ0luZGV4ID0gMDtcbiAgfVxuXG59IiwiaW1wb3J0IHsgaXNCZWZvcmUgfSBmcm9tIFwiZGF0ZS1mbnNcIjtcbmltcG9ydCB7IEluZGV4R2VuZXJhdG9yIH0gZnJvbSBcIi4uL3V0aWwvSW5kZXhHZW5lcmF0b3JcIjtcbmltcG9ydCB7IENvbnRlbnRWaWV3IH0gZnJvbSBcIi4uL3ZpZXcvQ29udGVudFZpZXdcIjtcblxuZXhwb3J0IGNsYXNzIFRhc2sge1xuICBjcmVhdGVkRGF0ZTtcbiAgdGl0bGU7XG4gIGRlc2NyaXB0aW9uO1xuICBkdWVEYXRlO1xuICBwcmlvcml0eTtcbiAgaXNDb21wbGV0ZTtcbiAgaXNDb2xsYXBzZWQ7XG4gIGxvZztcbiAgLy8gb3B0aW9uYWw/XG4gIG5vdGVzO1xuICBjaGVja2xpc3Q7XG5cbiAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSkge1xuICAgIHRoaXMuaWQgPSBJbmRleEdlbmVyYXRvci5uZXh0SW5kZXgoKTtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIHRoaXMuY3JlYXRlZERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHRoaXMuaXNDb21wbGV0ZSA9IGZhbHNlO1xuICAgIHRoaXMuaXNDb2xsYXBzZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5ub3RlcyA9IG51bGw7XG4gICAgdGhpcy5jaGVja2xpc3QgPSBbXTtcbiAgICB0aGlzLmxvZyA9IFtdO1xuICB9XG5cbiAgaXNDb21wbGV0ZSgpIHtcbiAgICByZXR1cm4gaXNDb21wbGV0ZSA9PT0gdHJ1ZTtcbiAgfVxuXG4gIG1hcmtBc0NvbXBsZXRlKCkge1xuICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gIH1cblxuICBtYXJrQXNOb3RDb21wbGV0ZSgpIHtcbiAgICB0aGlzLmlzQ29tcGxldGUgPSBmYWxzZTtcbiAgfVxuXG4gIHRvZ2dsZUNvbXBsZXRlKCkge1xuICAgIHRoaXMuaXNDb21wbGV0ZSA9ICF0aGlzLmlzQ29tcGxldGU7XG4gIH1cblxuICBzZXRJc0NvbGxhcHNlZCh2YWx1ZSkge1xuICAgIHRoaXMuaXNDb2xsYXBzZWQgPSB2YWx1ZTtcbiAgfVxuXG4gIHRvZ2dsZUlzQ29sbGFwc2VkKCkge1xuICAgIHRoaXMuaXNDb2xsYXBzZWQgPSAhdGhpcy5pc0NvbGxhcHNlZDtcbiAgfVxuXG4gIGdldERPTUVsZW1lbnQoKSB7XG4gICAgbGV0IGNvbnRlbnRWaWV3ID0gbmV3IENvbnRlbnRWaWV3KCk7XG4gICAgcmV0dXJuIGNvbnRlbnRWaWV3LmdldFRhc2tET01FbGVtZW50KHRoaXMpO1xuICB9XG5cbiAgaXNPdmVyZHVlKCkge1xuICAgIHJldHVybiBpc0JlZm9yZSh0aGlzLmR1ZURhdGUsIG5ldyBEYXRlKCkpICYmICF0aGlzLmlzQ29tcGxldGU7XG4gIH1cbn1cbiIsImltcG9ydCB0b0RhdGUgZnJvbSBcIi4uL3RvRGF0ZS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgaXNCZWZvcmVcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgSXMgdGhlIGZpcnN0IGRhdGUgYmVmb3JlIHRoZSBzZWNvbmQgb25lP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSXMgdGhlIGZpcnN0IGRhdGUgYmVmb3JlIHRoZSBzZWNvbmQgb25lP1xuICpcbiAqICMjIyB2Mi4wLjAgYnJlYWtpbmcgY2hhbmdlczpcbiAqXG4gKiAtIFtDaGFuZ2VzIHRoYXQgYXJlIGNvbW1vbiBmb3IgdGhlIHdob2xlIGxpYnJhcnldKGh0dHBzOi8vZ2l0aHViLmNvbS9kYXRlLWZucy9kYXRlLWZucy9ibG9iL21hc3Rlci9kb2NzL3VwZ3JhZGVHdWlkZS5tZCNDb21tb24tQ2hhbmdlcykuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZSAtIHRoZSBkYXRlIHRoYXQgc2hvdWxkIGJlIGJlZm9yZSB0aGUgb3RoZXIgb25lIHRvIHJldHVybiB0cnVlXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlVG9Db21wYXJlIC0gdGhlIGRhdGUgdG8gY29tcGFyZSB3aXRoXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGZpcnN0IGRhdGUgaXMgYmVmb3JlIHRoZSBzZWNvbmQgZGF0ZVxuICogQHRocm93cyB7VHlwZUVycm9yfSAyIGFyZ3VtZW50cyByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJcyAxMCBKdWx5IDE5ODkgYmVmb3JlIDExIEZlYnJ1YXJ5IDE5ODc/XG4gKiB2YXIgcmVzdWx0ID0gaXNCZWZvcmUobmV3IERhdGUoMTk4OSwgNiwgMTApLCBuZXcgRGF0ZSgxOTg3LCAxLCAxMSkpXG4gKiAvLz0+IGZhbHNlXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNCZWZvcmUoZGlydHlEYXRlLCBkaXJ0eURhdGVUb0NvbXBhcmUpIHtcbiAgcmVxdWlyZWRBcmdzKDIsIGFyZ3VtZW50cyk7XG4gIHZhciBkYXRlID0gdG9EYXRlKGRpcnR5RGF0ZSk7XG4gIHZhciBkYXRlVG9Db21wYXJlID0gdG9EYXRlKGRpcnR5RGF0ZVRvQ29tcGFyZSk7XG4gIHJldHVybiBkYXRlLmdldFRpbWUoKSA8IGRhdGVUb0NvbXBhcmUuZ2V0VGltZSgpO1xufSIsImV4cG9ydCBjbGFzcyBQcmlvcml0eVR5cGUge1xuICBzdGF0aWMgTE9XID0gJ2xvdyc7XG4gIHN0YXRpYyBNRURJVU0gPSAnbWVkaXVtJztcbiAgc3RhdGljIEhJR0ggPSAnaGlnaCc7XG4gIHN0YXRpYyBERUZBVUxUID0gJ2RlZmF1bHQnO1xufSIsImltcG9ydCB7IFRhc2sgfSBmcm9tIFwiLi4vZW50aXR5L1Rhc2tcIjtcbmltcG9ydCB7IFByaW9yaXR5VHlwZSB9IGZyb20gXCIuLi9lbnRpdHkvUHJpb3JpdHlUeXBlXCI7XG5cbmV4cG9ydCBjb25zdCBzYW1wbGVEYXRhID0ge1xuICBwcm9qZWN0czogW1xuICAgIHtcbiAgICAgIGlkOiAwLFxuICAgICAgdGl0bGU6IFwiT3ZlcnZpZXdcIixcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICBcIkxvb2sgYXQgYWxsIHlvdXIgcHJvamVjdHMgYW5kIGNob29zZSB3aGljaCBvbmUgeW91IHdhbnQgdG8gY2hlY2tcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAxLFxuICAgICAgdGl0bGU6IFwiV2Vic2l0ZSByZWRlc2lnblwiLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgIFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCwgc2VkIGRvIGVpdXNtb2QgdGVtcG9yIGluY2lkaWR1bnQgdXQgbGFib3JlIGV0IGRvbG9yZSBtYWduYSBhbGlxdWEuIFwiLFxuICAgICAgdGFza3M6IFtcbiAgICAgICAgbmV3IFRhc2soXG4gICAgICAgICAgXCJVcGRhdGUgYWJvdXQgcGFnZSBoZWFkZXJcIixcbiAgICAgICAgICBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXRcIixcbiAgICAgICAgICBuZXcgRGF0ZSgyMDIyLCAxLCAyMCksXG4gICAgICAgICAgUHJpb3JpdHlUeXBlLkRFRkFVTFRcbiAgICAgICAgKSxcbiAgICAgICAgbmV3IFRhc2soXG4gICAgICAgICAgXCJGaXggYnVnIGluIGRlcGxveW1lbnQgc2NyaXB0XCIsXG4gICAgICAgICAgXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBsb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBsb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBsb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBsb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBsb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBsb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0XCIsXG4gICAgICAgICAgbmV3IERhdGUoMjAyMiwgMCwgMTkpLFxuICAgICAgICAgIFByaW9yaXR5VHlwZS5NRURJVU1cbiAgICAgICAgKSxcbiAgICAgICAgbmV3IFRhc2soXG4gICAgICAgICAgXCJVcGRhdGUgY29udGFjdCBwYWdlIGhlYWRlclwiLFxuICAgICAgICAgIFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdFwiLFxuICAgICAgICAgIG5ldyBEYXRlKDIwMjIsIDEsIDIwKSxcbiAgICAgICAgICBQcmlvcml0eVR5cGUuREVGQVVMVFxuICAgICAgICApLFxuICAgICAgICBuZXcgVGFzayhcbiAgICAgICAgICBcIkFib3V0IHBhZ2Ugd29yZGluZ1wiLFxuICAgICAgICAgIFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdFwiLFxuICAgICAgICAgIG5ldyBEYXRlKDIwMjIsIDAsIDIyKSxcbiAgICAgICAgICBQcmlvcml0eVR5cGUuSElHSFxuICAgICAgICApLFxuICAgICAgICBuZXcgVGFzayhcbiAgICAgICAgICBcIk5ldyBsYW5kaW5nIHBhZ2UgbGF5b3V0XCIsXG4gICAgICAgICAgXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0XCIsXG4gICAgICAgICAgbmV3IERhdGUoMjAyMiwgMCwgMTcpLFxuICAgICAgICAgIFByaW9yaXR5VHlwZS5NRURJVU1cbiAgICAgICAgKSxcbiAgICAgICAgbmV3IFRhc2soXG4gICAgICAgICAgXCJVcGRhdGUgZ2xvYmFsIGljb25zZXRcIixcbiAgICAgICAgICBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXRcIixcbiAgICAgICAgICBuZXcgRGF0ZSgyMDIyLCAxLCAyNyksXG4gICAgICAgICAgUHJpb3JpdHlUeXBlLkxPV1xuICAgICAgICApLFxuICAgICAgICBuZXcgVGFzayhcbiAgICAgICAgICBcIk5ldyBjYXNlIHN0dWR5IHRodW1ibmFpbHNcIixcbiAgICAgICAgICBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXRcIixcbiAgICAgICAgICBuZXcgRGF0ZSgyMDIyLCAwLCAyOCksXG4gICAgICAgICAgUHJpb3JpdHlUeXBlLkRFRkFVTFRcbiAgICAgICAgKSxcbiAgICAgIF0sXG4gICAgICBkb25lOiBbXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAyLFxuICAgICAgdGl0bGU6IFwiR3JvY2VyaWVzXCIsXG4gICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgXCJMaXN0IG9mIGdyb2NlcmllcyB0byBidXkgb24gdGhlIG5lYXJlc3QgdHJpcCB0byB0aGUgc2hvcC4gTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCwgbG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC5cIixcbiAgICAgIHRhc2tzOiBbXG4gICAgICAgIG5ldyBUYXNrKFxuICAgICAgICAgIFwiQnV5IFBpenphXCIsXG4gICAgICAgICAgXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0XCIsXG4gICAgICAgICAgbmV3IERhdGUoMjAyMiwgMCwgMzApLFxuICAgICAgICAgIFByaW9yaXR5VHlwZS5ISUdIXG4gICAgICAgICksXG4gICAgICAgIG5ldyBUYXNrKFxuICAgICAgICAgIFwiVG9tYXRvZXNcIixcbiAgICAgICAgICBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXQsIGxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCBjb25zZWN0ZXR1ciBhZGlwaXNjaW5nIGVsaXRcIixcbiAgICAgICAgICBuZXcgRGF0ZSgyMDIyLCAwLCAzMCksXG4gICAgICAgICAgUHJpb3JpdHlUeXBlLkRFRkFVTFRcbiAgICAgICAgKSxcbiAgICAgIF0sXG4gICAgICBkb25lOiBbXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiAzLFxuICAgICAgdGl0bGU6IFwiV29ya291dFwiLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgIFwiRXhlcmNpc2VzIHRvIGRvIHRvIHN0YXkgZml0LiBMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBsb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LlwiLFxuICAgICAgdGFza3M6IFtcbiAgICAgICAgbmV3IFRhc2soXG4gICAgICAgICAgXCI1MCBCcnp1c3prw7N3XCIsXG4gICAgICAgICAgXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0XCIsXG4gICAgICAgICAgbmV3IERhdGUoMjAyMiwgMCwgMzApLFxuICAgICAgICAgIFByaW9yaXR5VHlwZS5ERUZBVUxUXG4gICAgICAgICksXG4gICAgICAgIG5ldyBUYXNrKFxuICAgICAgICAgIFwiNTAgUG9tcGVrXCIsXG4gICAgICAgICAgXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0LCBsb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0XCIsXG4gICAgICAgICAgbmV3IERhdGUoMjAyMiwgMCwgMzApLFxuICAgICAgICAgIFByaW9yaXR5VHlwZS5ERUZBVUxUXG4gICAgICAgICksXG4gICAgICBdLFxuICAgICAgZG9uZTogW10sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogNCxcbiAgICAgIHRpdGxlOiBcIlJlYWRpbmdcIixcbiAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICBcIkxpc3Qgb2YgYm9va3MgdG8gcmVhZC4gTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCwgbG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC5cIixcbiAgICAgIHRhc2tzOiBbXG4gICAgICAgIG5ldyBUYXNrKFxuICAgICAgICAgIFwiTG9yZCBvZiBUaGUgUmluZ3M6IFRoZSBGZWxsb3dzaGlwIG9mIHRoZSBSaW5nXCIsXG4gICAgICAgICAgXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgY29uc2VjdGV0dXIgYWRpcGlzY2luZyBlbGl0XCIsXG4gICAgICAgICAgbmV3IERhdGUoMjAyMiwgMCwgMzApLFxuICAgICAgICAgIFByaW9yaXR5VHlwZS5NRURJVU1cbiAgICAgICAgKSxcbiAgICAgICAgbmV3IFRhc2soXG4gICAgICAgICAgXCJEbyBBbmRyb2lkcyBEcmVhbSBvZiBFbGVjdHJpYyBTaGVlcFwiLFxuICAgICAgICAgIFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdCwgbG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdFwiLFxuICAgICAgICAgIG5ldyBEYXRlKDIwMjIsIDAsIDMwKSxcbiAgICAgICAgICBQcmlvcml0eVR5cGUuTE9XXG4gICAgICAgICksXG4gICAgICBdLFxuICAgICAgZG9uZTogW10sXG4gICAgfSxcbiAgXSxcbiAgbG9nczogW11cbn07XG4iLCJleHBvcnQgY2xhc3MgTWVudVZpZXcge1xuICBtb2RlbDtcbiAgY29udHJvbGxlcjtcblxuICBjb25zdHJ1Y3RvcihkZXBlbmRlbmNpZXMpIHtcbiAgICBpZiAoZGVwZW5kZW5jaWVzLm1vZGVsKSB7XG4gICAgICB0aGlzLm1vZGVsID0gZGVwZW5kZW5jaWVzLm1vZGVsO1xuICAgIH1cbiAgfVxuXG4gIHNldENvbnRyb2xsZXIoY29udHJvbGxlcikge1xuICAgIHRoaXMuY29udHJvbGxlciA9IGNvbnRyb2xsZXI7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgbWVudUxlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnUtbGVmdFwiKTtcbiAgICBjb25zdCBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51XCIpO1xuICAgIG1lbnVMZWZ0LnJlcGxhY2VDaGlsZCh0aGlzLmdldE1lbnVET00oKSwgbWVudSk7XG4gIH1cblxuICBnZXRNZW51RE9NKCkge1xuICAgIGNvbnN0IERFRkFVTFRfTElTVF9JVEVNX0lDT05fQ0xBU1NFUyA9IFtcImZhc1wiLCBcImZhLXRhc2tzXCJdO1xuXG4gICAgY29uc3QgbWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbWVudS5jbGFzc0xpc3QuYWRkKFwibWVudVwiKTtcblxuICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gICAgbGlzdC5jbGFzc0xpc3QuYWRkKFwiZmxleC1ncm93XCIsIFwibWVudS1pdGVtc1wiKTtcblxuICAgIGxldCBwcm9qZWN0cyA9IHRoaXMubW9kZWwuZ2V0UHJvamVjdHMoKTtcblxuICAgIC8vIE92ZXJ2aWV3IGFuZCBwcm9qZWN0c1xuICAgIGZvciAobGV0IHByb2plY3Qgb2YgdGhpcy5tb2RlbC5nZXRQcm9qZWN0cygpKSB7XG4gICAgICAvLyBsZXQgdGFza3NBbW91bnQgPSB0aGlzLmNhbGN1bGF0ZVByb2plY3RUYXNrc0Ftb3VudChwcm9qZWN0KTtcbiAgICAgIGlmIChwcm9qZWN0LmlkID09PSAwKSB7XG4gICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQodGhpcy5nZXRPdmVydmlld01lbnVJdGVtKHByb2plY3QpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgdGhpcy5nZXRNZW51SXRlbShwcm9qZWN0LCBERUZBVUxUX0xJU1RfSVRFTV9JQ09OX0NMQVNTRVMpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGluZS5jbGFzc0xpc3QuYWRkKFwibGluZVwiKTtcbiAgICBsaXN0LmFwcGVuZENoaWxkKGxpbmUpO1xuXG4gICAgLy8gRG9uZVxuICAgIGNvbnN0IGRvbmUgPSB0aGlzLmdldE1lbnVJdGVtKHsgdGl0bGU6IFwiRG9uZVwiLCB0YXNrczogW10gfSwgW1xuICAgICAgXCJmYXJcIixcbiAgICAgIFwiZmEtY2FsZW5kYXItY2hlY2tcIixcbiAgICBdKTtcbiAgICBsaXN0LmFwcGVuZENoaWxkKGRvbmUpO1xuXG4gICAgbWVudS5hcHBlbmRDaGlsZChsaXN0KTtcblxuICAgIC8vIExvZ3NcbiAgICBjb25zdCBwdXNoQm90dG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuICAgIHB1c2hCb3R0b20uY2xhc3NMaXN0LmFkZChcInB1c2gtYm90dG9tXCIpO1xuXG4gICAgY29uc3QgbG9nc0xpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICBsb2dzTGluay5ocmVmID0gXCIjXCI7XG4gICAgbG9nc0xpbmsuY2xhc3NMaXN0LmFkZChcIm1lbnUtaXRlbVwiKTtcbiAgICBjb25zdCBsb2dzTGlua0xpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgIGxvZ3NMaW5rTGkuaW5uZXJIVE1MID0gYDxpIGNsYXNzPSdmYSBmYS1jb2cnPjwvaT4gTG9nc2A7XG4gICAgbG9nc0xpbmsuYXBwZW5kQ2hpbGQobG9nc0xpbmtMaSk7XG4gICAgcHVzaEJvdHRvbS5hcHBlbmRDaGlsZChsb2dzTGluayk7XG5cbiAgICBjb25zdCBsb2dvdXRMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgbG9nb3V0TGluay5ocmVmID0gXCIjXCI7XG4gICAgbG9nb3V0TGluay5jbGFzc0xpc3QuYWRkKFwibWVudS1pdGVtXCIpO1xuICAgIGNvbnN0IGxvZ291dExpbmtMaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICBsb2dvdXRMaW5rTGkuaW5uZXJIVE1MID0gYDxpIGNsYXNzPSdmYSBmYS1zaWduLW91dC1hbHQnPjwvaT4gTG9nIG91dGA7XG4gICAgbG9nb3V0TGluay5hcHBlbmRDaGlsZChsb2dvdXRMaW5rTGkpO1xuICAgIHB1c2hCb3R0b20uYXBwZW5kQ2hpbGQobG9nb3V0TGluayk7XG5cbiAgICBtZW51LmFwcGVuZENoaWxkKHB1c2hCb3R0b20pO1xuXG4gICAgcmV0dXJuIG1lbnU7XG4gIH1cblxuICBjYWxjdWxhdGVQcm9qZWN0VGFza3NBbW91bnQocHJvamVjdCkge1xuICAgIHJldHVybiBwcm9qZWN0LnRhc2tzLnJlZHVjZSgoYWNjdW11bGF0b3IsIGN1cnJlbnRWYWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvciArIChjdXJyZW50VmFsdWUuaXNDb21wbGV0ZSA/IDAgOiAxKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGdldE92ZXJ2aWV3TWVudUl0ZW0ocHJvamVjdCkge1xuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICBsaW5rLmhyZWYgPSBcIiNcIjtcbiAgICBsaW5rLnNldEF0dHJpYnV0ZShcImRhdGEtbWVudS1pbmRleFwiLCBwcm9qZWN0LmlkKTtcbiAgICBsaW5rLmNsYXNzTGlzdC5hZGQoXCJtZW51LWl0ZW1cIik7XG4gICAgaWYgKHRoaXMubW9kZWwuZ2V0Q3VycmVudFByb2plY3RJZCgpID09PSBwcm9qZWN0LmlkKSB7XG4gICAgICBsaW5rLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgfVxuXG4gICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG5cbiAgICBjb25zdCBmbGV4Um93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBmbGV4Um93LmNsYXNzTGlzdC50b2dnbGUoXCJmbGV4LXJvd1wiKTtcblxuICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICBpY29uLmNsYXNzTGlzdC5hZGQoXCJmYVwiLCBcImZhLWhvbWVcIik7XG5cbiAgICBjb25zdCBtZW51SXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG1lbnVJdGVtVGV4dC5jbGFzc0xpc3QudG9nZ2xlKFwibWVudS1pdGVtLXRleHRcIik7XG5cbiAgICBjb25zdCBwcm9qZWN0c0Ftb3VudCA9IHRoaXMubW9kZWwuZ2V0UHJvamVjdHNDb3VudCgpO1xuICAgIG1lbnVJdGVtVGV4dC5pbm5lckhUTUwgPSBgJHtcbiAgICAgIHByb2plY3QudGl0bGVcbiAgICB9IDxwIGNsYXNzPSd0YXNrcy1hbW91bnQnPiR7cHJvamVjdHNBbW91bnR9IFxuICAgICR7cHJvamVjdHNBbW91bnQgPT09IDEgPyBcInByb2plY3RcIiA6IFwicHJvamVjdHNcIn08L3A+YDtcblxuICAgIGZsZXhSb3cuYXBwZW5kQ2hpbGQoaWNvbik7XG4gICAgZmxleFJvdy5hcHBlbmRDaGlsZChtZW51SXRlbVRleHQpO1xuICAgIGxpLmFwcGVuZENoaWxkKGZsZXhSb3cpO1xuICAgIGxpbmsuYXBwZW5kQ2hpbGQobGkpO1xuXG4gICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vIGNoYW5nZSBwcm9qZWN0XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuY2hhbmdlQ3VycmVudFByb2plY3QocHJvamVjdC5pZCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbGluaztcbiAgfVxuXG4gIGdldE1lbnVJdGVtKHByb2plY3QsIGljb25DbGFzc2VzQXJyYXkpIHtcbiAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgbGluay5ocmVmID0gXCIjXCI7XG4gICAgbGluay5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1lbnUtaW5kZXhcIiwgcHJvamVjdC5pZCk7XG4gICAgbGluay5jbGFzc0xpc3QuYWRkKFwibWVudS1pdGVtXCIpO1xuICAgIGlmICh0aGlzLm1vZGVsLmdldEN1cnJlbnRQcm9qZWN0SWQoKSA9PT0gcHJvamVjdC5pZCkge1xuICAgICAgbGluay5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuXG4gICAgY29uc3QgZmxleFJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZmxleFJvdy5jbGFzc0xpc3QudG9nZ2xlKFwiZmxleC1yb3dcIik7XG5cbiAgICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgaWNvbi5jbGFzc0xpc3QuYWRkKC4uLmljb25DbGFzc2VzQXJyYXkpO1xuXG4gICAgY29uc3QgbWVudUl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBtZW51SXRlbVRleHQuY2xhc3NMaXN0LnRvZ2dsZShcIm1lbnUtaXRlbS10ZXh0XCIpO1xuXG4gICAgaWYgKHByb2plY3QudGFza3MpIHtcbiAgICAgIGNvbnN0IHRvZG9UYXNrcyA9IHRoaXMuY2FsY3VsYXRlUHJvamVjdFRhc2tzQW1vdW50KHByb2plY3QpO1xuICAgICAgbWVudUl0ZW1UZXh0LmlubmVySFRNTCA9IGAke1xuICAgICAgICBwcm9qZWN0LnRpdGxlXG4gICAgICB9IDxwIGNsYXNzPSd0YXNrcy1hbW91bnQnPiR7dG9kb1Rhc2tzfSAke1xuICAgICAgICB0b2RvVGFza3MgPT09IDEgPyBcIlRhc2tcIiA6IFwiVGFza3NcIlxuICAgICAgfTwvcD5gO1xuICAgIH1cblxuICAgIGZsZXhSb3cuYXBwZW5kQ2hpbGQoaWNvbik7XG4gICAgZmxleFJvdy5hcHBlbmRDaGlsZChtZW51SXRlbVRleHQpO1xuICAgIGxpLmFwcGVuZENoaWxkKGZsZXhSb3cpO1xuICAgIGxpbmsuYXBwZW5kQ2hpbGQobGkpO1xuXG4gICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vIGNoYW5nZSBwcm9qZWN0XG4gICAgICB0aGlzLmNvbnRyb2xsZXIuY2hhbmdlQ3VycmVudFByb2plY3QocHJvamVjdC5pZCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbGluaztcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEFwcENvbmZpZyB7XG4gIHN0YXRpYyBEQVJLX01PREVfREVGQVVMVCA9IGZhbHNlO1xuICBzdGF0aWMgTE9BRF9XSVRIX1NBTVBMRV9EQVRBID0gdHJ1ZTtcbiAgc3RhdGljIERFRkFVTFRfUFJPSkVDVF9JRCA9IDA7XG4gIHN0YXRpYyBMT0NBTF9TVE9SQUdFX0tFWSA9IFwidG9kby1kYXRhXCI7XG4gIHN0YXRpYyBOT1RJRklDQVRJT05fSElERV9BTklNQVRJT05fRFVSQVRJT04gPSA1MDA7XG4gIHN0YXRpYyBOT1RJRklDQVRJT05fU0hPV19USU1FID0gNDAwMDtcbn1cbiIsImV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb24ge1xuICB0aXRsZTtcbiAgZGVzY3JpcHRpb247XG4gIGxldmVsO1xuXG4gIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgbGV2ZWwpIHtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgfVxufSIsImltcG9ydCB7IEFwcENvbmZpZyB9IGZyb20gXCIuLi9jb25maWcvQXBwQ29uZmlnXCI7XG5pbXBvcnQgeyBQcmlvcml0eVR5cGUgfSBmcm9tIFwiLi4vZW50aXR5L1ByaW9yaXR5VHlwZVwiO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSBcIi4uL2VudGl0eS9Ob3RpZmljYXRpb25cIjtcblxuZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvbnNDb250cm9sbGVyIHtcbiAgd3JhcHBlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLndyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5vdGlmaWNhdGlvbi13cmFwcGVyXCIpO1xuICAgIHRoaXMuaW5pdCgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBjb25zdCBub3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKFxuICAgICAgXCJXZWxjb21lXCIsXG4gICAgICBcIldlbGNvbWUgdG8gb3VyIGFwcCwgd2UgaG9wZSB5b3Ugd2lsbCBmaW5kIGl0IHVzZWZ1bCFcIixcbiAgICAgIFByaW9yaXR5VHlwZS5NRURJVU1cbiAgICApO1xuXG4gICAgLy8gc2hvdyB3ZWxjb21lIG5vdGlmaWNhdGlvbiBhZnRlciBzb21lIGRlbGF5XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNob3dOb3RpZmljYXRpb24obm90aWZpY2F0aW9uKTtcbiAgICB9LCAxMDAwKTtcblxuICAgIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIC8vICAgbm90aWZpY2F0aW9uLmxldmVsID0gUHJpb3JpdHlUeXBlLkRFRkFVTFQ7XG4gICAgLy8gICB0aGlzLnNob3dOb3RpZmljYXRpb24obm90aWZpY2F0aW9uKTtcbiAgICAvLyB9LCAxNTAwKTtcbiAgfVxuXG4gIGFkZENsb3NlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgY2xvc2VCdG5zID0gdGhpcy53cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICBcIi5ub3RpZmljYXRpb24taWNvbiAuY2xvc2VcIlxuICAgICk7XG4gICAgY2xvc2VCdG5zLmZvckVhY2goKGJ0bikgPT4ge1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICB0aGlzLmFuaW1hdGVOb3RpZmljYXRpb25DbG9zaW5nKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGFuaW1hdGVOb3RpZmljYXRpb25DbG9zaW5nKGVsKSB7XG4gICAgZWwuY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvbi1hbmltYXRlLWhpZGVcIik7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKFwibm90aWZpY2F0aW9uLWFuaW1hdGUtaGlkZVwiKTtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xuICAgICAgdGhpcy53cmFwcGVyLnJlbW92ZUNoaWxkKGVsKTtcbiAgICB9LCBBcHBDb25maWcuTk9USUZJQ0FUSU9OX0hJREVfQU5JTUFUSU9OX0RVUkFUSU9OKTtcbiAgfVxuXG4gIHNob3dOb3RpZmljYXRpb24obm90aWZpY2F0aW9uKSB7XG4gICAgY29uc3QgZWwgPSB0aGlzLmNyZWF0ZU5vdGlmaWNhdGlvbkVsZW1lbnQobm90aWZpY2F0aW9uKTtcbiAgICB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQoZWwpO1xuICAgIHRoaXMuYWRkQ2xvc2VFdmVudExpc3RlbmVycygpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5hbmltYXRlTm90aWZpY2F0aW9uQ2xvc2luZyhlbCk7XG4gICAgfSwgQXBwQ29uZmlnLk5PVElGSUNBVElPTl9TSE9XX1RJTUUpO1xuICB9XG5cbiAgY3JlYXRlTm90aWZpY2F0aW9uRWxlbWVudChub3RpZmljYXRpb24pIHtcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB3cmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb25cIik7XG5cbiAgICBsZXQgYmFja2dyb3VuZDtcbiAgICBzd2l0Y2ggKG5vdGlmaWNhdGlvbi5sZXZlbCkge1xuICAgICAgY2FzZSBQcmlvcml0eVR5cGUuSElHSDpcbiAgICAgICAgYmFja2dyb3VuZCA9IFwiYmctZGFuZ2VyXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBQcmlvcml0eVR5cGUuTUVESVVNOlxuICAgICAgICBiYWNrZ3JvdW5kID0gXCJiZy1tZWRpdW1cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFByaW9yaXR5VHlwZS5MT1c6XG4gICAgICAgIGJhY2tncm91bmQgPSBcImJnLWxvd1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUHJpb3JpdHlUeXBlLkRFRkFVTFQ6XG4gICAgICAgIGJhY2tncm91bmQgPSBcImJnLWRlZmF1bHRcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgd3JhcHBlci5jbGFzc0xpc3QuYWRkKGJhY2tncm91bmQpO1xuXG4gICAgY29uc3QgYmVsbEljb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBiZWxsSWNvbldyYXBwZXIuY2xhc3NMaXN0LmFkZChcIm5vdGlmaWNhdGlvbi1pY29uXCIpO1xuXG4gICAgY29uc3QgYmVsbEljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICBiZWxsSWNvbi5jbGFzc0xpc3QuYWRkKFwiZmEtc29saWRcIiwgXCJmYS1iZWxsXCIpO1xuXG4gICAgYmVsbEljb25XcmFwcGVyLmFwcGVuZENoaWxkKGJlbGxJY29uKTtcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGJlbGxJY29uV3JhcHBlcik7XG5cbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBib2R5LmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb24tYm9keVwiKTtcblxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwibm90aWZpY2F0aW9uLXRpdGxlXCIpO1xuICAgIHRpdGxlLnRleHRDb250ZW50ID0gbm90aWZpY2F0aW9uLnRpdGxlO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG4gICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGV4dC5jbGFzc0xpc3QuYWRkKFwibm90aWZpY2F0aW9uLXRleHRcIik7XG4gICAgdGV4dC50ZXh0Q29udGVudCA9IG5vdGlmaWNhdGlvbi5kZXNjcmlwdGlvbjtcbiAgICBib2R5LmFwcGVuZENoaWxkKHRleHQpO1xuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoYm9keSk7XG5cbiAgICBjb25zdCBjbG9zZUljb25XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjbG9zZUljb25XcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJub3RpZmljYXRpb24taWNvblwiKTtcblxuICAgIGNvbnN0IGNsb3NlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO1xuICAgIGNsb3NlSWNvbi5jbGFzc0xpc3QuYWRkKFwiZmEtc29saWRcIiwgXCJmYS14bWFya1wiLCBcImNsb3NlXCIpO1xuICAgIGNsb3NlSWNvbldyYXBwZXIuYXBwZW5kQ2hpbGQoY2xvc2VJY29uKTtcblxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoY2xvc2VJY29uV3JhcHBlcik7XG5cbiAgICByZXR1cm4gd3JhcHBlcjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4vQXBwXCI7XG5cbmxldCBhcHAgPSBuZXcgQXBwKCk7XG5hcHAuaW5pdCgpO1xuIiwiaW1wb3J0IHsgTW9kZWwgfSBmcm9tIFwiLi9tb2RlbC9Nb2RlbFwiO1xuaW1wb3J0IHsgRGlzcGxheUNvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVyL0Rpc3BsYXlDb250cm9sbGVyXCI7XG5pbXBvcnQgeyBDb250ZW50VmlldyB9IGZyb20gXCIuL3ZpZXcvQ29udGVudFZpZXdcIjtcbmltcG9ydCB7IE1lbnVWaWV3IH0gZnJvbSBcIi4vdmlldy9NZW51Vmlld1wiO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uc0NvbnRyb2xsZXIgfSBmcm9tIFwiLi9jb250cm9sbGVyL05vdGlmaWNhdGlvbnNDb250cm9sbGVyXCI7XG5cbmV4cG9ydCBjbGFzcyBBcHAge1xuICBtb2RlbDtcbiAgY29udHJvbGxlcjtcbiAgdmlldztcbiAgbWVudVZpZXc7XG4gIG5vdGlmaWNhdGlvbkNvbnRyb2xsZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tb2RlbCA9IG5ldyBNb2RlbCgpO1xuICAgIFxuICAgIHRoaXMubWVudVZpZXcgPSBuZXcgTWVudVZpZXcoeyBtb2RlbDogdGhpcy5tb2RlbCB9KTtcbiAgICBcbiAgICB0aGlzLnZpZXcgPSBuZXcgQ29udGVudFZpZXcoeyBtZW51VmlldzogdGhpcy5tZW51VmlldyB9KTtcbiAgICB0aGlzLnZpZXcuc2V0TW9kZWwodGhpcy5tb2RlbCk7XG5cbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgRGlzcGxheUNvbnRyb2xsZXIoe1xuICAgICAgdmlldzogdGhpcy52aWV3LFxuICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgfSk7XG5cbiAgICB0aGlzLnZpZXcuc2V0Q29udHJvbGxlcih0aGlzLmNvbnRyb2xsZXIpO1xuXG4gICAgdGhpcy5tZW51Vmlldy5zZXRDb250cm9sbGVyKHRoaXMuY29udHJvbGxlcik7XG5cbiAgICB0aGlzLm5vdGlmaWNhdGlvbkNvbnRyb2xsZXIgPSBuZXcgTm90aWZpY2F0aW9uc0NvbnRyb2xsZXIoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5jb250cm9sbGVyLmluaXQoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwicmVxdWlyZWRBcmdzIiwicmVxdWlyZWQiLCJhcmdzIiwibGVuZ3RoIiwiVHlwZUVycm9yIiwidG9EYXRlIiwiYXJndW1lbnQiLCJhcmd1bWVudHMiLCJhcmdTdHIiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJEYXRlIiwiZ2V0VGltZSIsImNvbnNvbGUiLCJ3YXJuIiwiRXJyb3IiLCJzdGFjayIsIk5hTiIsInN0YXJ0aW5nSW5kZXgiLCJjcmVhdGVkRGF0ZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJpc0NvbXBsZXRlIiwiaXNDb2xsYXBzZWQiLCJsb2ciLCJub3RlcyIsImNoZWNrbGlzdCIsImNvbnN0cnVjdG9yIiwidGhpcyIsImlkIiwic3RhdGljIiwibmV4dEluZGV4IiwibWFya0FzQ29tcGxldGUiLCJtYXJrQXNOb3RDb21wbGV0ZSIsInRvZ2dsZUNvbXBsZXRlIiwic2V0SXNDb2xsYXBzZWQiLCJ0b2dnbGVJc0NvbGxhcHNlZCIsImdldERPTUVsZW1lbnQiLCJDb250ZW50VmlldyIsImdldFRhc2tET01FbGVtZW50IiwiaXNPdmVyZHVlIiwiZGlydHlEYXRlIiwiZGlydHlEYXRlVG9Db21wYXJlIiwiZGF0ZSIsImRhdGVUb0NvbXBhcmUiLCJpc0JlZm9yZSIsIk1lbnVWaWV3IiwibW9kZWwiLCJjb250cm9sbGVyIiwiZGVwZW5kZW5jaWVzIiwic2V0Q29udHJvbGxlciIsInJlbmRlciIsIm1lbnVMZWZ0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibWVudSIsInJlcGxhY2VDaGlsZCIsImdldE1lbnVET00iLCJERUZBVUxUX0xJU1RfSVRFTV9JQ09OX0NMQVNTRVMiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwibGlzdCIsImdldFByb2plY3RzIiwicHJvamVjdCIsImFwcGVuZENoaWxkIiwiZ2V0T3ZlcnZpZXdNZW51SXRlbSIsImdldE1lbnVJdGVtIiwibGluZSIsImRvbmUiLCJ0YXNrcyIsInB1c2hCb3R0b20iLCJsb2dzTGluayIsImhyZWYiLCJsb2dzTGlua0xpIiwiaW5uZXJIVE1MIiwibG9nb3V0TGluayIsImxvZ291dExpbmtMaSIsImNhbGN1bGF0ZVByb2plY3RUYXNrc0Ftb3VudCIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwiY3VycmVudFZhbHVlIiwiaW5kZXgiLCJsaW5rIiwic2V0QXR0cmlidXRlIiwiZ2V0Q3VycmVudFByb2plY3RJZCIsImxpIiwiZmxleFJvdyIsInRvZ2dsZSIsImljb24iLCJtZW51SXRlbVRleHQiLCJwcm9qZWN0c0Ftb3VudCIsImdldFByb2plY3RzQ291bnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiY2hhbmdlQ3VycmVudFByb2plY3QiLCJpY29uQ2xhc3Nlc0FycmF5IiwidG9kb1Rhc2tzIiwiTm90aWZpY2F0aW9uIiwibGV2ZWwiLCJOb3RpZmljYXRpb25zQ29udHJvbGxlciIsIndyYXBwZXIiLCJpbml0Iiwibm90aWZpY2F0aW9uIiwic2V0VGltZW91dCIsInNob3dOb3RpZmljYXRpb24iLCJhZGRDbG9zZUV2ZW50TGlzdGVuZXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJidG4iLCJhbmltYXRlTm90aWZpY2F0aW9uQ2xvc2luZyIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJlbCIsInJlbW92ZSIsInJlbW92ZUNoaWxkIiwiY3JlYXRlTm90aWZpY2F0aW9uRWxlbWVudCIsImJhY2tncm91bmQiLCJiZWxsSWNvbldyYXBwZXIiLCJiZWxsSWNvbiIsImJvZHkiLCJ0ZXh0Q29udGVudCIsInRleHQiLCJjbG9zZUljb25XcmFwcGVyIiwiY2xvc2VJY29uIiwidmlldyIsIm1lbnVWaWV3Iiwibm90aWZpY2F0aW9uQ29udHJvbGxlciIsIk1vZGVsIiwic2V0TW9kZWwiLCJEaXNwbGF5Q29udHJvbGxlciJdLCJzb3VyY2VSb290IjoiIn0=